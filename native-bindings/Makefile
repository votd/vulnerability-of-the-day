all: clean Echo.class Echo.h libecho.so
	java -Djava.library.path=. Echo

libecho.so:
	gcc -c Echo.c -o echo.o
	g++ -I"/usr/local/jdk-1.8.0/include/" -I"/usr/local/jdk-1.8.0/include/openbsd" -shared -o libecho.so echo.o

Echo.h: Echo.class
	javah Echo

Echo.class:
	javac Echo.java

run:
	java

clean:
	rm -f *.o
	rm -f *.so
